----------SUCCESS QUERIES--------------------------------

1.) select OwnerId,flt_id,max(month) as Month,max(year) as Year from MaintainanceDetail group by OwnerId,flt_id

2.) select OwnerId,flt_id,Month,Year from (
select OwnerId,flt_id,max(month) as Month,max(year) as Year from MaintainanceDetail group by OwnerId,flt_id) as abc

3.) select main.* from MaintainanceDetail main
inner join (select OwnerId,flt_id,Month,Year from (
select OwnerId,flt_id,max(month) as Month,max(year) as Year from MaintainanceDetail group by OwnerId,flt_id) as xyz)  as abc
on main.OwnerId=abc.OwnerId and main.flt_id=abc.flt_id and 
main.Month=abc.Month and main.Year=abc.Year


4.) SELECT A.flt_id,A.flt_no,A.flt_type ,IFNULL(B.Owner_name,"Not Registered") as Owner_name ,IFNULL(B.id,0) as id,
IFNULL(B.usr,"Not Registered") as usr,B.pass,B.email,B.regIP,B.dt,B.gcmregid,B.approve_status,B.Owner_contact 
,B.Renter_name,B.Renter_contact 
FROM flat_master A
LEFT OUTER JOIN members B ON A.flt_id = B.flt_id


5.) SELECT A.flt_id,A.flt_no,A.flt_type ,IFNULL(B.Owner_name,"Not Registered") as Owner_name ,IFNULL(B.id,0) as id,
IFNULL(B.usr,"Not Registered") as usr,B.pass,B.email,B.regIP,B.dt,B.gcmregid,B.approve_status,B.Owner_contact 
,B.Renter_name,B.Renter_contact
,MONTHNAME(STR_TO_DATE(dtls.Month, '%m')) as LastPaidMonth
,dtls.Year as LastPaidYear
,dtls.Amount  as LastPaidAmount
,dtls.Entrydt as LastPaidEntrydt
,dtls.AdminApprovedt  as LastPaidAdminApproval
,dtls.Paidby  as LastPaidby
FROM flat_master A
LEFT OUTER JOIN members B ON A.flt_id = B.flt_id
LEFT OUTER JOIN (
select main.* from MaintainanceDetail main
inner join (select OwnerId,flt_id,Month,Year from (
select OwnerId,flt_id,max(month) as Month,max(year) as Year from MaintainanceDetail group by OwnerId,flt_id) as xyz)  as abc
on main.OwnerId=abc.OwnerId and main.flt_id=abc.flt_id and 
main.Month=abc.Month and main.Year=abc.Year) as dtls 
ON A.flt_id = dtls.flt_id


